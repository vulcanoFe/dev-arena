@if (showCard()) {
  <div 
    class="rounded-xl border-2 bg-white p-6 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl dark:bg-slate-800"
    [class.border-green-500]="isPositive()"
    [class.border-red-500]="isNegative()"
    [class.border-slate-200]="!isPositive() && !isNegative()"
    [class.dark:border-green-600]="isPositive()"
    [class.dark:border-red-600]="isNegative()"
    [class.dark:border-slate-700]="!isPositive() && !isNegative()"
  >
    <!-- Header -->
    <div class="mb-4 flex items-center justify-between">
      <h3 class="text-xl font-bold text-slate-900 dark:text-slate-100">
        {{ symbol() | cryptoSymbol }}
      </h3>
      @if (priceChange()) {
        <span 
          class="rounded-lg px-3 py-1 text-sm font-semibold"
          [class.bg-green-100]="isPositive()"
          [class.text-green-700]="isPositive()"
          [class.bg-red-100]="isNegative()"
          [class.text-red-700]="isNegative()"
          [class.dark:bg-green-900]="isPositive()"
          [class.dark:text-green-300]="isPositive()"
          [class.dark:bg-red-900]="isNegative()"
          [class.dark:text-red-300]="isNegative()"
        >
          {{ priceChange() | cryptoPercent }}
        </span>
      }
    </div>
    
    <!-- Price -->
    @if (currentPrice()) {
      <div class="space-y-4">
        <div class="text-3xl font-bold text-slate-900 dark:text-slate-100">
          ${{ currentPrice() | cryptoPrice }}
        </div>
        
        @if (ticker()) {
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-slate-600 dark:text-slate-400">24h High:</span>
              <span class="font-semibold text-slate-900 dark:text-slate-100">
                ${{ ticker()!.highPrice | cryptoPrice }}
              </span>
            </div>
            <div class="flex justify-between">
              <span class="text-slate-600 dark:text-slate-400">24h Low:</span>
              <span class="font-semibold text-slate-900 dark:text-slate-100">
                ${{ ticker()!.lowPrice | cryptoPrice }}
              </span>
            </div>
          </div>
        }
      </div>
    } @else {
      <div class="flex items-center justify-center py-8">
        <div class="h-8 w-8 animate-spin rounded-full border-b-2 border-blue-600 dark:border-blue-400"></div>
      </div>
    }
  </div>
} @else if (hasError()) {
  <div class="rounded-xl border-2 border-red-300 bg-red-50 p-6 dark:border-red-800 dark:bg-red-950">
    <p class="text-center text-red-700 dark:text-red-300">
      Errore nel caricamento di {{ symbol() }}
    </p>
  </div>
}