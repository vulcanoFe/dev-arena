    <div class="min-h-screen bg-gray-50">
      <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Back Button -->
        <button 
          (click)="goBack()"
          class="mb-6 px-6 py-2 bg-white border-2 border-gray-200 rounded-lg font-semibold hover:border-blue-500 hover:text-blue-600 transition-all"
        >
          ‚Üê Indietro
        </button>

        @if (currentPrice() !== undefined && currentPrice() !== null && ticker()) {
          <div class="space-y-6">
            
            <!-- Header with Price -->
            <div class="bg-white p-8 rounded-xl border-2 border-gray-200">
              <h1 class="text-4xl font-extrabold text-gray-900 mb-4">
                {{ symbol() | cryptoSymbol }}
              </h1>
              <div class="flex items-baseline gap-4">
                <span class="text-5xl font-bold text-gray-900">
                  ${{ currentPrice() | cryptoPrice }}
                </span>
                <span 
                  class="px-4 py-2 rounded-lg text-xl font-semibold"
                  [class.bg-green-100]="isPositive()"
                  [class.text-green-700]="isPositive()"
                  [class.bg-red-100]="isNegative()"
                  [class.text-red-700]="isNegative()"
                >
                  {{ priceChange() | cryptoPercent }}
                </span>
              </div>
            </div>

            <!-- Real-time Chart -->
            <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">
                Andamento Real-time
              </h3>
              <div class="h-40">
                <svg viewBox="0 0 500 100" class="w-full h-full">
                  @if (priceHistory().length > 1) {
                    <polyline
                      [attr.points]="getChartPoints()"
                      fill="none"
                      [attr.stroke]="isPositive() ? '#10b981' : '#ef4444'"
                      stroke-width="2"
                    />
                  }
                </svg>
              </div>
            </div>

            <!-- 24h Stats Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
                <div class="text-sm text-gray-600 mb-2">Massimo 24h</div>
                <div class="text-2xl font-bold text-gray-900">
                  ${{ highPrice() | cryptoPrice }}
                </div>
              </div>

              <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
                <div class="text-sm text-gray-600 mb-2">Minimo 24h</div>
                <div class="text-2xl font-bold text-gray-900">
                  ${{ lowPrice() | cryptoPrice }}
                </div>
              </div>

              <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
                <div class="text-sm text-gray-600 mb-2">Volume 24h</div>
                <div class="text-2xl font-bold text-gray-900">
                  {{ volume24h() | cryptoVolume }}
                </div>
              </div>
            </div>

            <!-- Price Range -->
            <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
              <div class="text-sm text-gray-600 mb-4">Range giornaliero</div>
              <div class="relative h-2 bg-gray-200 rounded-full mb-2">
                <div 
                  class="absolute h-full bg-gradient-to-r from-red-500 to-green-500 rounded-full transition-all"
                  [style.width.%]="priceRange()"
                ></div>
                <div 
                  class="absolute w-4 h-4 bg-blue-600 border-4 border-white rounded-full shadow-lg -top-1 transition-all"
                  [style.left.%]="priceRange()"
                  style="transform: translateX(-50%)"
                ></div>
              </div>
              <div class="flex justify-between text-sm text-gray-600">
                <span>${{ lowPrice() | cryptoPrice }}</span>
                <span>${{ highPrice() | cryptoPrice }}</span>
              </div>
            </div>

            <!-- Details -->
            <div class="bg-white p-6 rounded-xl border-2 border-gray-200">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">
                Dettagli
              </h3>
              <div class="space-y-4">
                <div class="flex justify-between py-3 border-b border-gray-200">
                  <span class="text-gray-600">Simbolo</span>
                  <span class="font-semibold text-gray-900">{{ symbol() }}</span>
                </div>
                <div class="flex justify-between py-3 border-b border-gray-200">
                  <span class="text-gray-600">Cambio 24h</span>
                  <span 
                    class="font-semibold"
                    [class.text-green-600]="isPositive()"
                    [class.text-red-600]="isNegative()"
                  >
                    {{ priceChange() | cryptoPercent }}
                  </span>
                </div>
                <div class="flex justify-between py-3">
                  <span class="text-gray-600">Ultimo aggiornamento</span>
                  <span class="font-semibold text-gray-900">
                    {{ lastUpdate() }}
                  </span>
                </div>
              </div>
            </div>

          </div>
        } @else {
          <div class="flex flex-col items-center justify-center py-20">
            <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"></div>
            <p class="text-gray-600 text-lg">Caricamento dati...</p>
          </div>
        }
        
      </div>
    </div>