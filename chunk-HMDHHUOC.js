import{$a as m,Ca as x,Ma as f,Na as g,Oa as y,Qa as h,Ra as b,Sa as w,Ta as a,Ua as n,Va as E,Y as p,Z as u,Za as _,bb as d,cb as C,eb as r,ga as c,gb as D,ib as V,ra as S,rb as F,sa as s,zb as T}from"./chunk-ARZDUVSM.js";var J=(i,t)=>({"border-blue-500 ring-2 ring-blue-400":i,"border-transparent":t}),P=(i,t)=>t.id;function Q(i,t){i&1&&(a(0,"div",8),r(1," \u2713 "),n())}function z(i,t){if(i&1){let e=_();a(0,"div",6),m("click",function(){let o=p(e).$implicit,k=d();return u(k.toggle(o))}),E(1,"img",7),f(2,Q,2,0,"div",8),n()}if(i&2){let e=t.$implicit;w("ngClass",V(3,J,e.selected,!e.selected)),s(),w("src",e.url,S),s(),g(e.selected?2:-1)}}function I(i,t){i&1&&(a(0,"p",5),r(1," \u274C Verifica fallita. Selezione errata. Riprova. "),n())}var v=class i{verified=F();error=c(!1);images=[{id:1,url:"barcellona.jpg",isCorrect:!0,selected:!1},{id:2,url:"venezia.jpg",isCorrect:!1,selected:!1},{id:3,url:"madeira.jpg",isCorrect:!0,selected:!1},{id:4,url:"parigi.jpg",isCorrect:!1,selected:!1},{id:5,url:"parga.jpg",isCorrect:!0,selected:!1},{id:6,url:"amsterdam.jpg",isCorrect:!1,selected:!1}];toggle(t){t.selected=!t.selected,this.error.set(!1)}submit(){let t=this.images.filter(o=>o.isCorrect).map(o=>o.id).sort(),e=this.images.filter(o=>o.selected).map(o=>o.id).sort();JSON.stringify(t)===JSON.stringify(e)?this.verified.emit(!0):this.error.set(!0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-fake-captcha"]],outputs:{verified:"verified"},decls:9,vars:1,consts:[[1,"max-w-md","mx-auto","p-4","border","rounded-xl","shadow","bg-white","dark:bg-slate-800"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"grid","grid-cols-3","gap-2","mb-4"],[1,"relative","cursor-pointer","rounded","overflow-hidden","border-2","transition-all",3,"ngClass"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","py-2","rounded-lg","transition",3,"click"],[1,"text-red-500","text-sm","mt-3","text-center"],[1,"relative","cursor-pointer","rounded","overflow-hidden","border-2","transition-all",3,"click","ngClass"],[1,"w-full","h-24","object-cover",3,"src"],[1,"absolute","inset-0","bg-blue-500/30","flex","items-center","justify-center","text-white","text-2xl","font-bold"]],template:function(e,l){e&1&&(a(0,"div",0)(1,"h2",1),r(2," Sei davvero Miriam? Seleziona solo i posti dove siamo stati... "),n(),a(3,"div",2),h(4,z,3,6,"div",3,P),n(),a(6,"button",4),m("click",function(){return l.submit()}),r(7," Verifica "),n(),f(8,I,2,0,"p",5),n()),e&2&&(s(4),b(l.images),s(4),g(l.error()?8:-1))},dependencies:[T],encapsulation:2})};function H(i,t){if(i&1){let e=_();a(0,"app-fake-captcha",2),m("verified",function(o){p(e);let k=d();return u(k.captchaVerified(o))}),n()}}function q(i,t){if(i&1){let e=_();a(0,"div",7)(1,"div",8)(2,"div",9),r(3,"\u{1F355}\u{1F60E}"),n(),a(4,"p",10),r(5," Errore 403: Accesso negato "),n(),a(6,"p",11),r(7," Pagamento automatico a carico del fidanzato "),n(),a(8,"p",12),r(9," Ti amo amore mio! \u2764\uFE0F "),n(),a(10,"button",13),m("click",function(){p(e);let o=d(2);return u(o.closePopup())}),r(11," OK \u{1F618} "),n()()()}}function O(i,t){if(i&1){let e=_();a(0,"div",0)(1,"p",3),r(2," Vuoi pagare tu la pizza stasera?\u{1F355} "),n(),a(3,"div",4)(4,"button",5),m("click",function(){p(e);let o=d();return u(o.onYesClick())}),r(5," SI "),n(),a(6,"button",6),m("click",function(){p(e);let o=d();return u(o.onNoClick())}),r(7," NO "),n(),f(8,q,12,0,"div",7),n()()}if(i&2){let e=d();s(4),C("transform","scale("+e.yesScale()+")"),s(2),C("transform","scale("+e.noScale()+")"),s(2),g(e.showPopup()?8:-1)}}function $(i,t){if(i&1&&(a(0,"div",15),r(1),n()),i&2){let e=t.$implicit;C("left",e.left,"%")("animation-delay",e.delay,"s"),s(),D(" ",e.emoji," ")}}function A(i,t){if(i&1&&(a(0,"div",1),h(1,$,2,5,"div",14,y),n()),i&2){let e=d();s(),b(e.hearts())}}var j=class i{captcha=c(!1);noScale=c(1);yesScale=c(1);captchaVerified(t){this.captcha.set(t)}onNoClick(){this.noScale.update(t=>t*.5),this.yesScale.update(t=>t*2),this.noScale()<.15&&this.noScale.set(0)}showPopup=c(!1);showHearts=c(!1);hearts=c([]);onYesClick(){this.showPopup.set(!0)}closePopup(){this.showPopup.set(!1),this.generateHearts(),this.showHearts.set(!0),setTimeout(()=>{this.showHearts.set(!1)},4e3)}generateHearts(){let t=["\u2764\uFE0F","\u{1F496}","\u{1F495}","\u{1F498}","\u{1F497}","\u{1F49E}","\u{1F493}","\u{1F49D}"],e=Array.from({length:14}).map(()=>({left:Math.random()*100,delay:Math.random()*1.5,emoji:t[Math.floor(Math.random()*t.length)]}));this.hearts.set(e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-question-joke"]],decls:3,vars:2,consts:[[1,"w-full","max-w-md","rounded-xl","bg-white","p-6","shadow-lg","space-y-6","dark:bg-slate-800"],[1,"pointer-events-none","fixed","inset-0","z-[60]","overflow-hidden"],[3,"verified"],[1,"text-center","text-xl","font-semibold","text-slate-900","dark:text-slate-100"],[1,"relative","flex","gap-4"],[1,"flex-1","rounded-lg","bg-green-500","py-3","text-white","font-semibold","transition-transform","duration-300","ease-out","hover:bg-green-600",3,"click"],[1,"flex-1","rounded-lg","bg-red-500","py-3","text-white","font-semibold","transition-transform","duration-300","ease-out",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50","backdrop-blur-sm"],[1,"w-full","max-w-sm","rounded-2xl","bg-white","p-6","text-center","shadow-2xl","space-y-4","animate-[scaleIn_0.3s_ease-out]"],[1,"text-4xl"],[1,"text-lg","font-semibold","text-slate-800"],[1,"text-slate-600"],[1,"text-pink-500","font-bold","text-xl"],[1,"mt-4","w-full","rounded-lg","bg-green-500","py-2","text-white","font-semibold","hover:bg-green-600","transition",3,"click"],[1,"absolute","bottom-0","text-pink-500","text-3xl","animate-float",3,"left","animationDelay"],[1,"absolute","bottom-0","text-pink-500","text-3xl","animate-float"]],template:function(e,l){e&1&&(f(0,H,1,0,"app-fake-captcha")(1,O,9,5,"div",0),f(2,A,3,0,"div",1)),e&2&&(g(l.captcha()?1:0),s(2),g(l.showHearts()?2:-1))},dependencies:[v],encapsulation:2})};export{j as QuestionJoke};
