import{Bb as J,Ca as b,Ma as h,Na as g,Pa as V,Qa as S,Ra as y,Sa as r,Ta as a,Ua as D,Y as m,Ya as _,Z as p,_a as u,ab as d,bb as E,cb as F,db as N,fb as c,ga as f,jb as Q,ra as T,sa as l,sb as B,ub as M}from"./chunk-UDCLL26F.js";var $=(i,t)=>({"border-blue-500 ring-2 ring-blue-400":i,"border-transparent":t}),A=(i,t)=>t.id;function z(i,t){i&1&&(r(0,"div",8),c(1," \u2713 "),a())}function O(i,t){if(i&1){let e=_();r(0,"div",6),u("click",function(){let n=m(e).$implicit,s=d();return p(s.toggle(n))}),D(1,"img",7),h(2,z,2,0,"div",8),a()}if(i&2){let e=t.$implicit;y("ngClass",Q(3,$,e.selected,!e.selected)),l(),y("src",e.url,T),l(),g(e.selected?2:-1)}}function P(i,t){i&1&&(r(0,"p",5),c(1," \u274C Verifica fallita. Selezione errata. Riprova. "),a())}var C=class i{verified=B();error=f(!1);images=[{id:1,url:"https://picsum.photos/id/1025/200",isCorrect:!0,selected:!1},{id:2,url:"https://picsum.photos/id/1062/200",isCorrect:!0,selected:!1},{id:3,url:"https://picsum.photos/id/237/200",isCorrect:!0,selected:!1},{id:4,url:"https://picsum.photos/id/1040/200",isCorrect:!1,selected:!1},{id:5,url:"https://picsum.photos/id/1084/200",isCorrect:!1,selected:!1},{id:6,url:"https://picsum.photos/id/1024/200",isCorrect:!1,selected:!1}];toggle(t){t.selected=!t.selected,this.error.set(!1)}submit(){let t=this.images.filter(n=>n.isCorrect).map(n=>n.id).sort(),e=this.images.filter(n=>n.selected).map(n=>n.id).sort();JSON.stringify(t)===JSON.stringify(e)?this.verified.emit(!0):this.error.set(!0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-fake-captcha"]],outputs:{verified:"verified"},decls:9,vars:1,consts:[[1,"max-w-md","mx-auto","p-4","border","rounded-xl","shadow","bg-white","dark:bg-slate-800"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"grid","grid-cols-3","gap-2","mb-4"],[1,"relative","cursor-pointer","rounded","overflow-hidden","border-2","transition-all",3,"ngClass"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","py-2","rounded-lg","transition",3,"click"],[1,"text-red-500","text-sm","mt-3","text-center"],[1,"relative","cursor-pointer","rounded","overflow-hidden","border-2","transition-all",3,"click","ngClass"],[1,"w-full","h-24","object-cover",3,"src"],[1,"absolute","inset-0","bg-blue-500/30","flex","items-center","justify-center","text-white","text-2xl","font-bold"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"h2",1),c(2," Seleziona tutte le immagini con i \u{1F436} cani "),a(),r(3,"div",2),V(4,O,3,6,"div",3,A),a(),r(6,"button",4),u("click",function(){return o.submit()}),c(7," Verifica "),a(),h(8,P,2,0,"p",5),a()),e&2&&(l(4),S(o.images),l(4),g(o.error()?8:-1))},dependencies:[J],encapsulation:2})};var H=["container"],L=["noBtn"];function U(i,t){if(i&1){let e=_();r(0,"app-fake-captcha",3),u("verified",function(n){m(e);let s=d();return p(s.captchaVerified(n))}),a()}}function X(i,t){if(i&1){let e=_();r(0,"div",2)(1,"p",4),c(2," Vuoi continuare? "),a(),r(3,"div",5,0)(5,"button",6),c(6," SI "),a(),r(7,"button",7,1),u("mousemove",function(n){m(e);let s=d();return p(s.onApproach(n))})("touchmove",function(n){m(e);let s=d();return p(s.onApproach(n))}),c(9," NO "),a()()()}if(i&2){let e=d();l(7),N("transform",e.noTransform())}}var R=class i{container=M("container");noBtn=M("noBtn");noTransform=f("translate(0px, 0px)");captcha=f(!1);lastMove=0;onApproach(t){let e=this.container()?.nativeElement,o=this.noBtn()?.nativeElement;if(!e||!o)return;let n=Date.now();if(n-this.lastMove<120)return;this.lastMove=n;let s=e.getBoundingClientRect(),j=o.getBoundingClientRect(),v=s.width-j.width,x=120,k=this.random(-v/2,v/2),w=this.random(-x,x);k=Math.max(-v/2,Math.min(k,v/2)),w=Math.max(-x,Math.min(w,x)),this.noTransform.set(`translate(${k}px, ${w}px)`)}random(t,e){return Math.floor(Math.random()*(e-t+1))+t}captchaVerified(t){this.captcha.set(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-question-joke"]],viewQuery:function(e,o){e&1&&(E(o.container,H,5),E(o.noBtn,L,5)),e&2&&F(2)},decls:2,vars:1,consts:[["container",""],["noBtn",""],[1,"w-full","max-w-md","rounded-xl","bg-white","p-6","shadow-lg","space-y-6","dark:bg-slate-800"],[3,"verified"],[1,"text-center","text-xl","font-semibold","text-slate-900","dark:text-slate-100"],[1,"relative","flex","gap-4"],[1,"flex-1","rounded-lg","bg-green-500","py-3","text-white","font-semibold","hover:bg-green-600","transition"],[1,"flex-1","rounded-lg","bg-red-500","py-3","text-white","font-semibold","transition-transform","duration-150","ease-out",3,"mousemove","touchmove"]],template:function(e,o){e&1&&h(0,U,1,0,"app-fake-captcha")(1,X,10,2,"div",2),e&2&&g(o.captcha()?1:0)},dependencies:[C],encapsulation:2})};export{R as QuestionJoke};
